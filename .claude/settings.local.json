{
  "permissions": {
    "allow": [
      "Bash(python -c \"\nfrom app.services.relatorio_pdf import create_detailed_pdf_report\nfrom app.models.schemas import ResumoFinanceiro\n\n# Criar um resumo financeiro de teste\nresumo = ResumoFinanceiro(\n    total_perca_mensal=1500.0,\n    total_diferenca_anual=18000.0,\n    percentual_perda_anual=12.5,\n    total_recebido=125000.0,\n)\n\n# Dados de pagamento COMPLETOS simulando resposta real da API\npagamentos_teste = [\n    {\n        ''qtEsfCredenciado'': 10,\n        ''qtEsfHomologado'': 8,\n        ''qtEsfTotalPgto'': 8,\n        ''vlTotalEsf'': 50000.0,\n        ''qtSb40hCredenciada'': 5,\n        ''qtEmultiCredenciadas'': 3,\n        ''vlTotalEmulti'': 15000.0,\n        ''dsFaixaIndiceEquidadeEsfEap'': ''Faixa 1'',\n        ''dsClassificacaoVinculoEsfEap'': ''Boa'',\n        ''dsClassificacaoQualidadeEsfEap'': ''Satisfat√≥ria'',\n        ''dsClassificacaoQualidadeEmulti'': ''Adequada'',\n    }\n]\n\nprint(''üîç Testando gera√ß√£o de PDF detalhado com dados completos...'')\ntry:\n    pdf_bytes = create_detailed_pdf_report(\n        municipio_nome=''Recife'',\n        uf=''PE'',\n        competencia=''202509'',\n        resumo=resumo,\n        pagamentos=pagamentos_teste\n    )\n    print(f''‚úÖ PDF gerado com sucesso: {len(pdf_bytes)} bytes'')\n    print(f''‚úÖ Tamanho adequado: {len(pdf_bytes) > 5000}'')\n    print(f''‚úÖ Formato correto: {pdf_bytes[:4] == b\"\"%PDF\"\"}'')\n    \n    # Salvar PDF para inspe√ß√£o visual\n    with open(''/tmp/teste_relatorio_detalhado.pdf'', ''wb'') as f:\n        f.write(pdf_bytes)\n    print(f''‚úÖ PDF salvo em /tmp/teste_relatorio_detalhado.pdf para inspe√ß√£o'')\n    \nexcept Exception as e:\n    print(f''‚ùå Erro ao gerar PDF: {e}'')\n    import traceback\n    traceback.print_exc()\n\nprint(''\\n‚úÖ Teste conclu√≠do com sucesso!'')\n\")"
    ],
    "deny": [],
    "ask": []
  }
}
